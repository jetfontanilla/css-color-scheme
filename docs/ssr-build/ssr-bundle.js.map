{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./components/header/github-light.png","webpack:///./routes/home/index.js","webpack:///./routes/best-practice/index.js","webpack:///./routes/demo/index.js","webpack:///./routes/demo/style.css?67ab","webpack:///./routes/home/style.css?b889","webpack:///external \"preact\"","webpack:///./routes/best-practice/style.css?924e","webpack:///./index.js","webpack:///./components/header/index.js","webpack:///./components/toggle/style.css?b6d3","webpack:///./components/toggle/index.js","webpack:///../src/util.js","webpack:///../src/index.js","webpack:///./components/useThemes.js","webpack:///../node_modules/preact-router/match.js","webpack:///./components/app.js","webpack:///./components/header/style.css?a982","webpack:///./components/header/github-dark.png"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Home","class","style","home","className","example","BestPractice","main","Demo","beach","cat","paletteSection","palette","require","App","Header","toggleTheme","isDarkMode","header","href","src","githubDark","githubLight","width","height","alt","activeClassName","active","toggleLabel","fontSize","Toggle","switch","type","onClick","checked","slider","EMPTY","assign","obj","props","let","exec","url","route","opts","ret","reg","match","matches","split","length","decodeURIComponent","slice","join","segmentize","replace","max","Math","charAt","param","flags","plus","indexOf","star","val","map","default","pathRankSort","a","b","rank","index","prepareVNodeForRanking","vnode","path","rankSegment","rankChild","segment","e","super","const","this","currentIndex","currentComponent","prevRaf","currentHook","afterPaintEffects","oldBeforeDiff","options","oldBeforeRender","oldAfterDiff","diffed","oldCommit","oldBeforeUnmount","unmount","getHookState","hooks","push","useState","initialState","reducer","init","hookState","_reducer","invokeOrReturn","nextValue","action","setState","useReducer","flushAfterPaintEffects","forEach","component","invokeCleanup","invokeEffect","requestAnimationFrame","callback","raf","done","clearTimeout","timeout","HAS_RAF","cancelAnimationFrame","setTimeout","commitQueue","some","filter","cb","hook","comp","argsChanged","oldArgs","newArgs","arg","f","useThemes","args","state","theme","setTheme","isThemeReady","setThemeReady","setMode","window","localStorage","setItem","localTheme","getItem","currentTheme","matchMedia","Link","Match","undefined","_extends","target","arguments","source","_preact","_preactRouter","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_Component","_temp","_this","_len","Array","_key","apply","concat","update","nextUrl","subClass","superClass","constructor","writable","configurable","setPrototypeOf","__proto__","_inherits","componentDidMount","subscribers","componentWillUnmount","splice","render","getCurrentUrl","children","Component","_ref","keys","_objectWithoutProperties","h","_ref2","Boolean","id"],"mappings":"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","file":"ssr-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/light-dark-theme-demo/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"QfWi\");\n","export default __webpack_public_path__ + \"0035c307a36c17babb8d25cd02fb6488.png\";","import style from \"./style.css\";\n\nconst Home = () => (\n    <div class={style.home}>\n        <section>\n            <h1>CSS approach</h1>\n\n            <p>\n                <strong>prefers-color-scheme:</strong> This media feature for CSS is used to detect if the user prefers a light or dark color theme based on their operating system setting (e.g. light or dark mode) or a user agent setting.\n            </p>\n\n            <strong>Example:</strong>\n            <div className={style.example}>\n\t\t\t\t<pre>\n\t\t\t\t\t@media (prefers-color-scheme: dark) {\"{\\n\"}\n                    {\"\\t\"}color: #fff;{\"\\n\"}\n                    {\"\\t\"}background: #333;{\"\\n\"}\n                    {\"}\\n\\n\"}\n\n                    @media (prefers-color-scheme: light) {\"{\\n\"}\n                    {\"\\t\"}color: #000;{\"\\n\"}\n                    {\"\\t\"}background: #fff;{\"\\n\"}\n                    {\"}\"}\n\t\t\t\t</pre>\n            </div>\n\n            <p>\n                <strong>light</strong> - indicates that user has notified that they prefer an interface that has a light theme, or has not expressed an active preference.<br/>\n                <strong>dark</strong> - indicates that user has notified that they prefer an interface that has a dark theme.\n            </p>\n        </section>\n\n        <section>\n            <h1>JavaScript approach</h1>\n\n            <p>use <strong>Window.matchMedia()</strong> to query the current document's media query list and match dark or light mode\n            </p>\n\n            <strong>Example:</strong>\n            <div className={style.example}>\n\t\t\t\t<pre>\n\t\t\t\t\tconst isLightTheme = window.matchMedia(\"(prefers-color-scheme: light)\").matches{\"\\n\"}\n                    const isDarkTheme = window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n\t\t\t\t</pre>\n            </div>\n        </section>\n\n\n    </div>\n);\n\nexport default Home;\n","import style from \"./style.css\";\n\nconst BestPractice = () => {\n    return (\n        <div class={style.main}>\n            <ul>\n                <li>Always treat Light mode as default. Systems that don't support themes will fall back to Light mode</li>\n                <li>Avoid inlining styles, use classes instead. It is easier to manage the theming with CSS classes</li>\n            </ul>\n        </div>\n    );\n};\n\nexport default BestPractice;\n","import style from \"./style.css\";\n\nconst Demo = () => {\n    return (\n        <div class={style.main}>\n            <section class={style.beach}>\n                <h1 class=\"primary\">Primary text</h1>\n                <h3 class=\"secondary\">Secondary text</h3>\n                <p>Regular Text</p>\n\t\t\t\t<div class={style.cat}></div>\n            </section>\n            <section class={style.paletteSection}>\n                <span>Color Theme Palette:</span>\n                <span class={`${style.palette} primary`}>&#x025FC;</span>\n                <span class={`${style.palette} secondary`}>&#x025FC;</span>\n                <span class={style.palette}>&#x025FC;</span>\n            </section>\n        </div>\n    );\n};\n\nexport default Demo;\n","// extracted by mini-css-extract-plugin\nexport default {\"main\":\"main__nhFWX\",\"paletteSection\":\"paletteSection__3fS_o\",\"palette\":\"palette__14XLl\",\"beach\":\"beach__1C94U\",\"cat\":\"cat__2vHRK\"};","// extracted by mini-css-extract-plugin\nexport default {\"home\":\"home__5d1wS\",\"example\":\"example__1KIUa\"};","module.exports = require(\"preact\");","// extracted by mini-css-extract-plugin\nexport default {\"main\":\"main__1ltXQ\"};","import \"./style\";\nimport App from \"./components/app\";\n\nexport default App;\n","import { Link } from \"preact-router/match\";\nimport style from \"./style.css\";\nimport Toggle from \"../toggle\";\nimport githubLight from \"./github-light.png\";\nimport githubDark from \"./github-dark.png\";\n\nconst Header = ({toggleTheme, isDarkMode}) => (\n    <header class={style.header}>\n        <a href=\"https://github.com/jetfontanilla/light-dark-theme-demo\">\n            <img src={isDarkMode() ? githubDark : githubLight} width=\"32\" height=\"32\" alt=\"View on Github\"/>\n        </a>\n        <h1>Light / Dark theme demo</h1>\n        <nav>\n            <Link activeClassName={style.active} href=\"/light-dark-theme-demo\">Basics</Link>\n            <Link activeClassName={style.active} href=\"/light-dark-theme-demo/demo\">Demo</Link>\n            <Link activeClassName={style.active} href=\"/light-dark-theme-demo/best-practice\">Best Practices</Link>\n        </nav>\n        <span class={style.toggleLabel}>\n\t\t\t<span style={{fontSize: \"0.8em\"}}>Current Theme</span><br/>\n\t\t\t<strong>{isDarkMode() ? \"DARK\" : \"LIGHT\"}</strong>\n\t\t</span>\n        <Toggle toggleTheme={toggleTheme} isDarkMode={isDarkMode}/>\n    </header>\n);\n\nexport default Header;\n","// extracted by mini-css-extract-plugin\nexport default {\"switch\":\"switch__1NrFb\",\"slider\":\"slider__3kBcH\"};","import style from \"./style.css\";\n\nconst Toggle = ({toggleTheme, isDarkMode}) => (\n    <label className={style.switch}>\n        <input type=\"checkbox\" onClick={toggleTheme} checked={isDarkMode()}/>\n        <span className={style.slider}/>\n    </label>\n);\n\nexport default Toggle;\n","\nconst EMPTY = {};\n\nexport function assign(obj, props) {\n\t// eslint-disable-next-line guard-for-in\n\tfor (let i in props) {\n\t\tobj[i] = props[i];\n\t}\n\treturn obj;\n}\n\nexport function exec(url, route, opts) {\n\tlet reg = /(?:\\?([^#]*))?(#.*)?$/,\n\t\tc = url.match(reg),\n\t\tmatches = {},\n\t\tret;\n\tif (c && c[1]) {\n\t\tlet p = c[1].split('&');\n\t\tfor (let i=0; i<p.length; i++) {\n\t\t\tlet r = p[i].split('=');\n\t\t\tmatches[decodeURIComponent(r[0])] = decodeURIComponent(r.slice(1).join('='));\n\t\t}\n\t}\n\turl = segmentize(url.replace(reg, ''));\n\troute = segmentize(route || '');\n\tlet max = Math.max(url.length, route.length);\n\tfor (let i=0; i<max; i++) {\n\t\tif (route[i] && route[i].charAt(0)===':') {\n\t\t\tlet param = route[i].replace(/(^:|[+*?]+$)/g, ''),\n\t\t\t\tflags = (route[i].match(/[+*?]+$/) || EMPTY)[0] || '',\n\t\t\t\tplus = ~flags.indexOf('+'),\n\t\t\t\tstar = ~flags.indexOf('*'),\n\t\t\t\tval = url[i] || '';\n\t\t\tif (!val && !star && (flags.indexOf('?')<0 || plus)) {\n\t\t\t\tret = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatches[param] = decodeURIComponent(val);\n\t\t\tif (plus || star) {\n\t\t\t\tmatches[param] = url.slice(i).map(decodeURIComponent).join('/');\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\telse if (route[i]!==url[i]) {\n\t\t\tret = false;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (opts.default!==true && ret===false) return false;\n\treturn matches;\n}\n\nexport function pathRankSort(a, b) {\n\treturn (\n\t\t(a.rank < b.rank) ? 1 :\n\t\t\t(a.rank > b.rank) ? -1 :\n\t\t\t\t(a.index - b.index)\n\t);\n}\n\n// filter out VNodes without attributes (which are unrankeable), and add `index`/`rank` properties to be used in sorting.\nexport function prepareVNodeForRanking(vnode, index) {\n\tvnode.index = index;\n\tvnode.rank = rankChild(vnode);\n\treturn vnode.props;\n}\n\nexport function segmentize(url) {\n\treturn url.replace(/(^\\/+|\\/+$)/g, '').split('/');\n}\n\nexport function rankSegment(segment) {\n\treturn segment.charAt(0)==':' ? (1 + '*+?'.indexOf(segment.charAt(segment.length-1))) || 4 : 5;\n}\n\nexport function rank(path) {\n\treturn segmentize(path).map(rankSegment).join('');\n}\n\nfunction rankChild(vnode) {\n\treturn vnode.props.default ? 0 : rank(vnode.props.path);\n}\n","import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n/**\n * Keep track of the previous component so that we can set\n * `currentComponent` to `null` and throw when a hook is invoked\n * outside of render\n * @type {import('./internal').Component}\n */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\thooks._pendingEffects = [];\n\t}\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks && c.__hooks._pendingEffects.length) {\n\t\tafterPaint(afterPaintEffects.push(c));\n\t}\n\tcurrentComponent = previousComponent;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\ttry {\n\t\t\tc.__hooks._list.forEach(invokeCleanup);\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({});\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst nextValue = hookState._reducer(hookState._value[0], action);\n\t\t\t\tif (hookState._value[0] !== nextValue) {\n\t\t\t\t\thookState._value = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\t}\n\n\treturn hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._args = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') ref(createHandle());\n\t\t\telse if (ref) ref.current = createHandle();\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._value = factory();\n\t\tstate._args = args;\n\t\tstate._factory = factory;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = err => {\n\t\t\tif (state._value) state._value(err);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tafterPaintEffects.forEach(component => {\n\t\tif (component._parentDom) {\n\t\t\ttry {\n\t\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\t} catch (e) {\n\t\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\t\toptions._catchError(e, component._vnode);\n\t\t\t}\n\t\t}\n\t});\n\tafterPaintEffects = [];\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tif (typeof hook._cleanup == 'function') hook._cleanup();\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n","import { useEffect, useState } from \"preact/hooks\";\n\nconst LIGHT_MODE = \"light\";\nconst DARK_MODE = \"dark\";\n\nexport const useThemes = () => {\n    const [theme, setTheme] = useState(LIGHT_MODE);\n    const [isThemeReady, setThemeReady] = useState(false);\n\n    const setMode = mode => {\n        window.localStorage.setItem(\"theme\", mode);\n        setTheme(mode);\n    };\n    const toggleTheme = () => {\n        theme === LIGHT_MODE ? setMode(DARK_MODE) : setMode(LIGHT_MODE);\n    };\n    const isDarkMode = () => theme === DARK_MODE;\n\n    useEffect(() => {\n        const localTheme = window.localStorage.getItem(\"theme\");\n        const currentTheme = localTheme ? localTheme : window.matchMedia && window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? DARK_MODE : LIGHT_MODE;\n        setTheme(currentTheme);\n        setThemeReady(true);\n    }, []);\n\n    return [toggleTheme, isThemeReady, isDarkMode];\n};\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.Link = exports.Match = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _preact = require('preact');\n\nvar _preactRouter = require('preact-router');\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Match = exports.Match = function (_Component) {\n\t_inherits(Match, _Component);\n\n\tfunction Match() {\n\t\tvar _temp, _this, _ret;\n\n\t\t_classCallCheck(this, Match);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.update = function (url) {\n\t\t\t_this.nextUrl = url;\n\t\t\t_this.setState({});\n\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t}\n\n\tMatch.prototype.componentDidMount = function componentDidMount() {\n\t\t_preactRouter.subscribers.push(this.update);\n\t};\n\n\tMatch.prototype.componentWillUnmount = function componentWillUnmount() {\n\t\t_preactRouter.subscribers.splice(_preactRouter.subscribers.indexOf(this.update) >>> 0, 1);\n\t};\n\n\tMatch.prototype.render = function render(props) {\n\t\tvar url = this.nextUrl || (0, _preactRouter.getCurrentUrl)(),\n\t\t    path = url.replace(/\\?.+$/, '');\n\t\tthis.nextUrl = null;\n\t\treturn props.children({\n\t\t\turl: url,\n\t\t\tpath: path,\n\t\t\tmatches: (0, _preactRouter.exec)(path, props.path, {}) !== false\n\t\t});\n\t};\n\n\treturn Match;\n}(_preact.Component);\n\nvar Link = function Link(_ref) {\n\tvar activeClassName = _ref.activeClassName,\n\t    path = _ref.path,\n\t    props = _objectWithoutProperties(_ref, ['activeClassName', 'path']);\n\n\treturn (0, _preact.h)(\n\t\tMatch,\n\t\t{ path: path || props.href },\n\t\tfunction (_ref2) {\n\t\t\tvar matches = _ref2.matches;\n\t\t\treturn (0, _preact.h)(_preactRouter.Link, _extends({}, props, { 'class': [props.class || props.className, matches && activeClassName].filter(Boolean).join(' ') }));\n\t\t}\n\t);\n};\n\nexports.Link = Link;\nexports.default = Match;\n\nMatch.Link = Link;\n","import { Router } from \"preact-router\";\n\nimport Header from \"./header\";\n\n// Code-splitting is automated for `routes` directory\nimport Home from \"../routes/home\";\nimport Demo from \"../routes/demo\";\nimport BestPractice from \"../routes/best-practice\";\nimport { useThemes } from \"./useThemes\";\n\nconst App = () => {\n    const [toggleTheme, isThemeReady, isDarkMode] = useThemes();\n\n    if (!isThemeReady) {\n        return (<div/>);\n    }\n\n    return (\n        <div id=\"app\" class={isDarkMode() ? \"dark\" : \"light\"}>\n            <Header toggleTheme={toggleTheme} isDarkMode={isDarkMode}/>\n            <Router>\n                <Home path=\"/light-dark-theme-demo/\"/>\n                <Demo path=\"/light-dark-theme-demo/demo\"/>\n                <BestPractice path=\"/light-dark-theme-demo/best-practice\"/>\n            </Router>\n        </div>\n    );\n};\n\nexport default App;\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"header__3ax1h\",\"active\":\"active__2XB2z\",\"toggleLabel\":\"toggleLabel__yrYDr\"};","export default __webpack_public_path__ + \"266ca63177bca6f330a74e83fdc63178.png\";"],"sourceRoot":""}